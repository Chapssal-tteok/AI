# PreView Backend Repository

> ì´ ë ˆí¬ì§€í† ë¦¬ëŠ” **AI ê¸°ë°˜ ìê¸°ì†Œê°œì„œ ë¶„ì„ ë° ë©´ì ‘ ì¤€ë¹„ ì„œë¹„ìŠ¤ PreView**ì˜ AI ì„œë²„ë¥¼ ìœ„í•œ FastAPI ê¸°ë°˜ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## ğŸ‘¥ íŒ€ ì†Œê°œ

**Team 30 - ì°¹ìŒ€ë–¡**

| í•­ëª© | ì‹ ì •í™” (2271035) | ì°¨í˜„ì£¼ (2276321) |
|-----|-----------------|-----------------|
| GitHub | [@jungh150](https://github.com/jungh150) | [@chacha091](https://github.com/chacha091) |
| ì—­í•   | íŒ€ì¥ / ë°±ì—”ë“œ ê°œë°œì | íŒ€ì› / í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì |
| ë‹´ë‹¹ ì—…ë¬´ | ë°±ì—”ë“œ ê°œë°œ, ì„œë²„ ë°°í¬, AI ê¸°ëŠ¥ êµ¬í˜„ | í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ, UI/UX ë””ìì¸, AI ê¸°ëŠ¥ êµ¬í˜„ |

## ğŸ” í”„ë¡œì íŠ¸ ê°œìš”

**PreView**ëŠ” GPT-4oì™€ RAG ê¸°ë°˜ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ìê¸°ì†Œê°œì„œ ë¶„ì„ê³¼ ë§ì¶¤í˜• ë©´ì ‘ ì—°ìŠµì„ ì§€ì›í•˜ëŠ” **AI ê¸°ë°˜ ìê¸°ì†Œê°œì„œ ë¶„ì„ ë° ë©´ì ‘ ì¤€ë¹„ ì„œë¹„ìŠ¤ PreView**ì…ë‹ˆë‹¤.  
ì·¨ì—… ì¤€ë¹„ìê°€ ë³´ë‹¤ íš¨ìœ¨ì ìœ¼ë¡œ ìê¸°ì†Œê°œì„œë¥¼ ê°œì„ í•˜ê³ , ì‹¤ì œ ë©´ì ‘ì²˜ëŸ¼ ì—°ìŠµí•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ê²ƒì´ í•µì‹¬ ëª©í‘œì…ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ëª©í‘œ
- ê°ê´€ì ì´ê³  ì„¸ë°€í•œ ìê¸°ì†Œê°œì„œ ë¶„ì„ ë° í”¼ë“œë°± ì œê³µ
- ìê¸°ì†Œê°œì„œ ë° ê¸°ì—…Â·ì§ë¬´ ë§ì¶¤í˜• ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸ ìƒì„±
- ìŒì„± ê¸°ë°˜ ì¸í„°ë·° ì‹œë®¬ë ˆì´ì…˜ì„ í†µí•œ ì‹¤ì „ ê°ê° í–¥ìƒ

### ğŸ§  ê¸°ìˆ ì  íŠ¹ì„±
- **GPT-4o** ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ì„ í†µí•œ ì •ë°€í•œ ìì†Œì„œ í”¼ë“œë°±
- **Perplexity AI + ChromaDB** ê¸°ë°˜ RAG ì‹œìŠ¤í…œìœ¼ë¡œ ê¸°ì—… ë° ì§ë¬´ ë§ì¶¤í˜• ì§ˆë¬¸ ìƒì„±
- **Google TTS/STT** ê¸°ìˆ ì„ í™œìš©í•œ ìŒì„± ê¸°ë°˜ ë©´ì ‘ ì—°ìŠµ ê¸°ëŠ¥ ì œê³µ
- **Spring Boot + FastAPI** êµ¬ì¡°ë¡œ ë°±ì—”ë“œ ì„œë²„ì™€ AI ì„œë²„ ë¶„ë¦¬ êµ¬ì„±

> ğŸ’¡ **ì°¸ê³ :** ë³¸ ë ˆí¬ì§€í† ë¦¬ëŠ” GPT-4o ë¶„ì„ ë° Perplexity ê¸°ë°˜ ì§ˆë¬¸ ìƒì„±ì„ ë‹´ë‹¹í•˜ëŠ” **FastAPI ê¸°ë°˜ AI ì„œë²„**ì…ë‹ˆë‹¤.  
> ğŸ‘‰ Spring Boot ê¸°ë°˜ ë°±ì—”ë“œ ì„œë²„ì™€ ì—°ë™ë˜ì–´, AI ê¸°ëŠ¥ì„ ì™¸ë¶€ API í˜•íƒœë¡œ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ›  ì œê³µ ê¸°ëŠ¥
1. **ìê¸°ì†Œê°œì„œ í”¼ë“œë°±**  
   â†’ ì§ˆë¬¸ ì¶©ì‹¤ë„, ë…¼ë¦¬ íë¦„, êµ¬ì²´ì„± ë“± 6ê°€ì§€ í•­ëª© ë¶„ì„ + ê°œì„  ì˜ˆë¬¸ ì œì‹œ  
2. **ë§ì¶¤í˜• ë©´ì ‘ ì§ˆë¬¸ ìƒì„±**  
   â†’ ìê¸°ì†Œê°œì„œ í•µì‹¬ í‚¤ì›Œë“œ ê¸°ë°˜, RAGë¡œ ë„ì¶œëœ ì˜ˆìƒ ì§ˆë¬¸ ì œê³µ  
3. **ìŒì„± ë©´ì ‘ ì‹œë®¬ë ˆì´ì…˜**  
   â†’ TTS/STTë¡œ ì‹¤ì œ ë©´ì ‘ì²˜ëŸ¼ ì—°ìŠµ, ë‹µë³€ ë¶„ì„ ë° í›„ì† ì§ˆë¬¸ í”¼ë“œë°± ì œê³µ

PreViewëŠ” ëˆ„êµ¬ë‚˜ **í˜¼ìì„œë„ ì‹¤ì „ ë©´ì ‘ì„ ì¤€ë¹„í•  ìˆ˜ ìˆëŠ” AI ë©´ì ‘ íŒŒíŠ¸ë„ˆ**ì…ë‹ˆë‹¤.

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ ë° ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬

### ğŸ§© ì‚¬ìš© ê¸°ìˆ 

| í•­ëª© | ë‚´ìš© |
|------|------|
| Language | Python 3.10 |
| Framework | FastAPI |
| AI ëª¨ë¸ | GPT-4o (OpenAI), Sonar (Perplexity API) |
| ë²¡í„° ê²€ìƒ‰ | ChromaDB + SentenceTransformer |
| í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ | Python ê¸°ë°˜ Prompt Template êµ¬ì¡° |
| ì™¸ë¶€ ì—°ë™ | OpenAI API, Perplexity API |
| ë°ì´í„° í¬ë¡¤ë§ | Selenium |
| ì‹¤í–‰ í™˜ê²½ ê´€ë¦¬ | uvicorn, dotenv, requirements.txt ê¸°ë°˜ |

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
AI/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                         # FastAPI ë¼ìš°í„° êµ¬ì„±
â”‚   â”‚   â”œâ”€â”€ interview/               # ìê¸°ì†Œê°œì„œ ë° ë©´ì ‘ ê´€ë ¨ API
â”‚   â”‚   â”‚   â””â”€â”€ route.py             # ì£¼ìš” ì¸í„°ë·° API ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ chroma.py                # Chroma ê´€ë ¨ API (ë²¡í„° ê²€ìƒ‰)
â”‚   â”‚   â”œâ”€â”€ perplexity.py            # Perplexity API ì—°ë™
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                        # ì´ˆê¸°í™” ë° ì„¤ì •, ë²¡í„° ì„ë² ë”© ë¡œì§
â”‚   â”‚   â”œâ”€â”€ config.py                # ì„¤ì •ê°’ ë° í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ init_chroma.py           # ChromaDB ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â””â”€â”€ vector_utils.py          # ë²¡í„° ê²€ìƒ‰ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                      # Pydantic ê¸°ë°˜ ìš”ì²­/ì‘ë‹µ ëª¨ë¸ ì •ì˜
â”‚   â”‚   â””â”€â”€ search_model.py
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/                     # í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ëª¨ìŒ
â”‚   â”‚   â”œâ”€â”€ analyze_answer_prompts.py
â”‚   â”‚   â”œâ”€â”€ follow_up_prompts.py
â”‚   â”‚   â”œâ”€â”€ interview_qas_prompts.py
â”‚   â”‚   â””â”€â”€ resume_analyze_prompts.py
â”‚   â”‚
â”‚   â””â”€â”€ services/                    # ê¸°ëŠ¥ë³„ ì„œë¹„ìŠ¤ ëª¨ë“ˆ
â”‚       â”œâ”€â”€ chroma_service.py        # ChromaDB ì—°ë™ ë¡œì§
â”‚       â””â”€â”€ gpt_service.py           # OpenAI GPT í˜¸ì¶œ ë¡œì§
â”‚
â”œâ”€â”€ db/                              # ChromaDB ë²¡í„° ì €ì¥ ë””ë ‰í† ë¦¬
â”‚   â””â”€â”€ chroma.sqlite3
â”‚
â”œâ”€â”€ dataset_question.csv             # í¬ë¡¤ë§ëœ ë©´ì ‘ ì§ˆë¬¸ ë°ì´í„°ì…‹
â”œâ”€â”€ crolling_question.py             # JobKorea ë©´ì ‘ ì§ˆë¬¸ í¬ë¡¤ëŸ¬
â”œâ”€â”€ main.py                          # FastAPI ì•± ì§„ì…ì 
â”œâ”€â”€ .env                             # OpenAI / Perplexity API Key ì„¤ì • íŒŒì¼
â”œâ”€â”€ requirements.txt                 # ì˜ì¡´ì„± ëª©ë¡
â””â”€â”€ README.md
```

## ğŸš€ ì£¼ìš” API ê¸°ëŠ¥

| ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|------------|------|
| `POST /analyze-resume` | ìê¸°ì†Œê°œì„œ ë¬¸í•­ ë° ë‹µë³€ì— ëŒ€í•´ GPT ê¸°ë°˜ í”¼ë“œë°± ì œê³µ |
| `POST /analyze-answer` | ë©´ì ‘ ë‹µë³€ ë¶„ì„: ê°•ì , ê°œì„ ì , ì´ì  ë“± í”¼ë“œë°± ë°˜í™˜ |
| `POST /follow-up` | í›„ì† ì§ˆë¬¸ ìƒì„±: ì‚¬ìš©ìì˜ ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹¬í™” ì§ˆë¬¸ ì œê³µ |
| `POST /generate-qas` | RAG ê¸°ë°˜ ì˜ˆìƒ ë©´ì ‘ ì§ˆë¬¸ ìƒì„± (Chroma + Perplexity + GPT í™œìš©) |

> âœ… **ì˜ˆì‹œ ìš”ì²­ ë° ì‘ë‹µì€ ê° API ë‚´ë¶€ì— Swagger-style Docstringìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.**

## ğŸ”§ ì‚¬ì „ ì¤€ë¹„ì‚¬í•­

AI ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ í™˜ê²½ ë° ìì›ë“¤ì´ í•„ìš”í•©ë‹ˆë‹¤:

- Python 3.10 ì´ìƒ
- `pip` ë˜ëŠ” `virtualenv` ì‚¬ìš© ê°€ëŠ¥ í™˜ê²½
- ì•„ë˜ API í‚¤ ë°œê¸‰ ë° .env íŒŒì¼ ìƒì„± í•„ìš”:
  - ğŸ”‘ OpenAI API Key: https://platform.openai.com/account/api-keys
  - ğŸ”‘ Perplexity API Key: https://www.perplexity.ai/
- í¬ë¡¤ë§ìš© ChromeDriver ì„¤ì¹˜ (`crolling_question.py` ì‹¤í–‰ ì‹œ í•„ìš”)

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1ï¸âƒ£ ë ˆí¬ì§€í† ë¦¬ í´ë¡ 

```bash
git clone https://github.com/Chapssal-tteok/preview-ai.git
cd preview-ai
```

### 2ï¸âƒ£ ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

ë˜ëŠ” ê°€ìƒí™˜ê²½ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°:

```bash
python -m venv venv
source venv/bin/activate      # macOS / Linux
venv\Scripts\activate         # Windows

pip install -r requirements.txt
```

### 3ï¸âƒ£ .env íŒŒì¼ ì‘ì„±

ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— .env íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ ì…ë ¥í•©ë‹ˆë‹¤:

```ini
CHROMEDRIVER_PATH=YOUR_CHROME_DRIVER_PATH
OPENAI_API_KEY=your-openai-api-key
PPLX_API_KEY=your-perplexity-api-key
```

### 4ï¸âƒ£ ë©´ì ‘ ì§ˆë¬¸ ë°ì´í„° í¬ë¡¤ë§ (ì„ íƒ)

```bash
python crolling_question.py
```

> ğŸ’¡ ì´ë¯¸ dataset_question.csvê°€ ì¤€ë¹„ë˜ì–´ ìˆë‹¤ë©´ ì´ ë‹¨ê³„ëŠ” ìƒëµ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 5ï¸âƒ£ ë²¡í„° DB ì´ˆê¸°í™”

```bash
python app/core/init_chroma.py
```

> dataset_question.csvë¥¼ ê¸°ë°˜ìœ¼ë¡œ ChromaDBë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### 6ï¸âƒ£ ì„œë²„ ì‹¤í–‰

```bash
uvicorn main:app --reload --port 8000
```

- ê¸°ë³¸ ì‹¤í–‰ ì£¼ì†Œ: http://localhost:8000
- Swagger ë¬¸ì„œ í™•ì¸: http://localhost:8000/docs